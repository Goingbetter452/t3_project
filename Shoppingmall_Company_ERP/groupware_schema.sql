<<<<<<< HEAD
-- Í∑∏Î£πÏõ®Ïñ¥ ÏãúÏä§ÌÖúÏùÑ ÏúÑÌïú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÌÖåÏù¥Î∏î ÏÉùÏÑ± Ïä§ÌÅ¨Î¶ΩÌä∏

<<<<<<< HEAD
-- 1. Í≥µÏßÄÏÇ¨Ìï≠ ÌÖåÏù¥Î∏î
CREATE TABLE NOTICES (
    NOTICE_ID NUMBER PRIMARY KEY,
    TITLE VARCHAR2(200) NOT NULL,
    CONTENT CLOB NOT NULL,
    AUTHOR_ID VARCHAR2(50) NOT NULL,
    AUTHOR_NAME VARCHAR2(100) NOT NULL,
    CREATE_DATE DATE DEFAULT SYSDATE,
    UPDATE_DATE DATE DEFAULT SYSDATE,
    VIEW_COUNT NUMBER DEFAULT 0,
    IS_ACTIVE CHAR(1) DEFAULT 'Y' CHECK (IS_ACTIVE IN ('Y', 'N'))
);

-- 2. Ìï†Ïùº Î™©Î°ù ÌÖåÏù¥Î∏î
CREATE TABLE TODOS (
    TODO_ID NUMBER PRIMARY KEY,
    USER_ID VARCHAR2(50) NOT NULL,
    TITLE VARCHAR2(200) NOT NULL,
    DESCRIPTION VARCHAR2(1000),
    IS_COMPLETED CHAR(1) DEFAULT 'N' CHECK (IS_COMPLETED IN ('Y', 'N')),
    PRIORITY NUMBER DEFAULT 3 CHECK (PRIORITY BETWEEN 1 AND 5), -- 1:ÎÜíÏùå, 3:Î≥¥ÌÜµ, 5:ÎÇÆÏùå
    DUE_DATE DATE,
    CREATE_DATE DATE DEFAULT SYSDATE,
    COMPLETE_DATE DATE
);

-- 3. Ï∂úÌá¥Í∑º Í¥ÄÎ¶¨ ÌÖåÏù¥Î∏î
CREATE TABLE ATTENDANCE (
    ATTENDANCE_ID NUMBER PRIMARY KEY,
    USER_ID VARCHAR2(50) NOT NULL,
    WORK_DATE DATE NOT NULL,
    CHECK_IN_TIME TIMESTAMP,
    CHECK_OUT_TIME TIMESTAMP,
    TOTAL_WORK_MINUTES NUMBER,
    BREAK_MINUTES NUMBER DEFAULT 0,
    OVERTIME_MINUTES NUMBER DEFAULT 0,
    STATUS VARCHAR2(20) DEFAULT 'ABSENT' CHECK (STATUS IN ('PRESENT', 'ABSENT', 'LATE', 'EARLY_LEAVE')),
    NOTES VARCHAR2(500),
    CREATE_DATE DATE DEFAULT SYSDATE,
    UPDATE_DATE DATE DEFAULT SYSDATE
);

-- 4. Î©îÏã†Ï†Ä Î©îÏãúÏßÄ ÌÖåÏù¥Î∏î
CREATE TABLE MESSAGES (
    MESSAGE_ID NUMBER PRIMARY KEY,
    SENDER_ID VARCHAR2(50) NOT NULL,
    SENDER_NAME VARCHAR2(100) NOT NULL,
    RECEIVER_ID VARCHAR2(50),
    RECEIVER_NAME VARCHAR2(100),
    MESSAGE_TYPE VARCHAR2(20) DEFAULT 'PERSONAL' CHECK (MESSAGE_TYPE IN ('PERSONAL', 'GROUP', 'BROADCAST')),
    CONTENT VARCHAR2(1000) NOT NULL,
    IS_READ CHAR(1) DEFAULT 'N' CHECK (IS_READ IN ('Y', 'N')),
    SEND_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    READ_DATE TIMESTAMP
);

-- 5. Ï∫òÎ¶∞Îçî ÏùºÏ†ï ÌÖåÏù¥Î∏î
CREATE TABLE CALENDAR_EVENTS (
    EVENT_ID NUMBER PRIMARY KEY,
    USER_ID VARCHAR2(50) NOT NULL,
    TITLE VARCHAR2(200) NOT NULL,
    DESCRIPTION VARCHAR2(1000),
    EVENT_TYPE VARCHAR2(20) DEFAULT 'PERSONAL' CHECK (EVENT_TYPE IN ('PERSONAL', 'MEETING', 'HOLIDAY', 'COMPANY')),
    START_DATE TIMESTAMP NOT NULL,
    END_DATE TIMESTAMP NOT NULL,
    IS_ALL_DAY CHAR(1) DEFAULT 'N' CHECK (IS_ALL_DAY IN ('Y', 'N')),
    LOCATION VARCHAR2(200),
    REMINDER_MINUTES NUMBER DEFAULT 0,
    IS_RECURRING CHAR(1) DEFAULT 'N' CHECK (IS_RECURRING IN ('Y', 'N')),
    RECURRENCE_PATTERN VARCHAR2(100),
    CREATE_DATE DATE DEFAULT SYSDATE,
    UPDATE_DATE DATE DEFAULT SYSDATE
);

-- 6. ÌååÏùº Ï≤®Î∂Ä ÌÖåÏù¥Î∏î (Í≥µÏßÄÏÇ¨Ìï≠, Î©îÏãúÏßÄ Îì±ÏóêÏÑú ÏÇ¨Ïö©)
CREATE TABLE ATTACHMENTS (
    ATTACHMENT_ID NUMBER PRIMARY KEY,
    RELATED_TYPE VARCHAR2(20) NOT NULL CHECK (RELATED_TYPE IN ('NOTICE', 'MESSAGE', 'EVENT')),
    RELATED_ID NUMBER NOT NULL,
    ORIGINAL_NAME VARCHAR2(255) NOT NULL,
    STORED_NAME VARCHAR2(255) NOT NULL,
    FILE_PATH VARCHAR2(500) NOT NULL,
    FILE_SIZE NUMBER NOT NULL,
    CONTENT_TYPE VARCHAR2(100),
    UPLOAD_DATE DATE DEFAULT SYSDATE,
    UPLOADER_ID VARCHAR2(50) NOT NULL
);

-- ÏãúÌÄÄÏä§ ÏÉùÏÑ±
CREATE SEQUENCE SEQ_NOTICE_ID START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEQ_TODO_ID START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEQ_ATTENDANCE_ID START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEQ_MESSAGE_ID START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEQ_EVENT_ID START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEQ_ATTACHMENT_ID START WITH 1 INCREMENT BY 1 NOCACHE;

-- Ïù∏Îç±Ïä§ ÏÉùÏÑ± (ÏÑ±Îä• Ìñ•ÏÉÅÏùÑ ÏúÑÌï¥)
CREATE INDEX IDX_NOTICES_AUTHOR ON NOTICES(AUTHOR_ID);
CREATE INDEX IDX_NOTICES_DATE ON NOTICES(CREATE_DATE);
CREATE INDEX IDX_TODOS_USER ON TODOS(USER_ID);
CREATE INDEX IDX_TODOS_DATE ON TODOS(CREATE_DATE);
CREATE INDEX IDX_ATTENDANCE_USER_DATE ON ATTENDANCE(USER_ID, WORK_DATE);
CREATE INDEX IDX_MESSAGES_SENDER ON MESSAGES(SENDER_ID);
CREATE INDEX IDX_MESSAGES_RECEIVER ON MESSAGES(RECEIVER_ID);
CREATE INDEX IDX_MESSAGES_DATE ON MESSAGES(SEND_DATE);
CREATE INDEX IDX_EVENTS_USER ON CALENDAR_EVENTS(USER_ID);
CREATE INDEX IDX_EVENTS_DATE ON CALENDAR_EVENTS(START_DATE);

-- Ìä∏Î¶¨Í±∞ ÏÉùÏÑ±

-- 1. Í≥µÏßÄÏÇ¨Ìï≠ ÏóÖÎç∞Ïù¥Ìä∏ Ïãú UPDATE_DATE ÏûêÎèô Í∞±Ïã†
CREATE OR REPLACE TRIGGER TRG_NOTICES_UPDATE
    BEFORE UPDATE ON NOTICES
    FOR EACH ROW
BEGIN
    :NEW.UPDATE_DATE := SYSDATE;
END;
/

-- 2. Ï∂úÌá¥Í∑º ÏãúÍ∞Ñ Í≥ÑÏÇ∞ Ìä∏Î¶¨Í±∞
CREATE OR REPLACE TRIGGER TRG_ATTENDANCE_CALC
    BEFORE INSERT OR UPDATE ON ATTENDANCE
    FOR EACH ROW
BEGIN
    -- Ï∂úÍ∑ºÍ≥º Ìá¥Í∑º ÏãúÍ∞ÑÏù¥ Î™®Îëê ÏûàÏùÑ Îïå Ï¥ù Í∑ºÎ¨¥ÏãúÍ∞Ñ Í≥ÑÏÇ∞
    IF :NEW.CHECK_IN_TIME IS NOT NULL AND :NEW.CHECK_OUT_TIME IS NOT NULL THEN
        :NEW.TOTAL_WORK_MINUTES := EXTRACT(DAY FROM (:NEW.CHECK_OUT_TIME - :NEW.CHECK_IN_TIME)) * 24 * 60 +
                                   EXTRACT(HOUR FROM (:NEW.CHECK_OUT_TIME - :NEW.CHECK_IN_TIME)) * 60 +
                                   EXTRACT(MINUTE FROM (:NEW.CHECK_OUT_TIME - :NEW.CHECK_IN_TIME));
        
        -- 8ÏãúÍ∞Ñ(480Î∂Ñ) Ï¥àÍ≥º Ïãú Ï¥àÍ≥ºÍ∑ºÎ¨¥ÏãúÍ∞Ñ Í≥ÑÏÇ∞
        IF :NEW.TOTAL_WORK_MINUTES > 480 THEN
            :NEW.OVERTIME_MINUTES := :NEW.TOTAL_WORK_MINUTES - 480;
        ELSE
            :NEW.OVERTIME_MINUTES := 0;
        END IF;
        
        -- Ï∂úÍ∑º ÏÉÅÌÉú Í≤∞Ï†ï (9Ïãú Ïù¥ÌõÑ Ï∂úÍ∑ºÏùÄ ÏßÄÍ∞Å)
        IF EXTRACT(HOUR FROM :NEW.CHECK_IN_TIME) >= 9 THEN
            :NEW.STATUS := 'LATE';
        ELSE
            :NEW.STATUS := 'PRESENT';
        END IF;
        
        -- Ï°∞Í∏∞Ìá¥Í∑º Ï≤¥ÌÅ¨ (18Ïãú Ïù¥Ï†Ñ Ìá¥Í∑º)
        IF EXTRACT(HOUR FROM :NEW.CHECK_OUT_TIME) < 18 THEN
            :NEW.STATUS := 'EARLY_LEAVE';
        END IF;
    END IF;
    
    :NEW.UPDATE_DATE := SYSDATE;
END;
/

-- 3. Î©îÏãúÏßÄ ÏùΩÏùå Ï≤òÎ¶¨ Ìä∏Î¶¨Í±∞
CREATE OR REPLACE TRIGGER TRG_MESSAGE_READ
    BEFORE UPDATE ON MESSAGES
    FOR EACH ROW
BEGIN
    -- ÏùΩÏùå ÏÉÅÌÉúÍ∞Ä NÏóêÏÑú YÎ°ú Î≥ÄÍ≤ΩÎê† Îïå ÏùΩÏùÄ ÏãúÍ∞Ñ ÏÑ§Ï†ï
    IF :OLD.IS_READ = 'N' AND :NEW.IS_READ = 'Y' THEN
        :NEW.READ_DATE := CURRENT_TIMESTAMP;
    END IF;
END;
/

-- 4. Ï∫òÎ¶∞Îçî Ïù¥Î≤§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏ Ìä∏Î¶¨Í±∞
CREATE OR REPLACE TRIGGER TRG_EVENTS_UPDATE
    BEFORE UPDATE ON CALENDAR_EVENTS
    FOR EACH ROW
BEGIN
    :NEW.UPDATE_DATE := SYSDATE;
END;
/

-- ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÏÇΩÏûÖ

-- Í≥µÏßÄÏÇ¨Ìï≠ ÏÉòÌîå Îç∞Ïù¥ÌÑ∞
INSERT INTO NOTICES (NOTICE_ID, TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME) VALUES 
(SEQ_NOTICE_ID.NEXTVAL, 'ÏãúÏä§ÌÖú Ï†êÍ≤Ä ÏïàÎÇ¥', 'Îã§Ïùå Ï£º ÌÜ†ÏöîÏùº Ïò§ÌõÑ 2ÏãúÎ∂ÄÌÑ∞ 4ÏãúÍπåÏßÄ ÏãúÏä§ÌÖú Ï†êÍ≤ÄÏù¥ ÏûàÏùÑ ÏòàÏ†ïÏûÖÎãàÎã§.', 'admin', 'Í¥ÄÎ¶¨Ïûê');

INSERT INTO NOTICES (NOTICE_ID, TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME) VALUES 
(SEQ_NOTICE_ID.NEXTVAL, 'Ïã†ÏûÖÏÇ¨Ïõê ÌôòÏòÅÌöå', 'Ïù¥Î≤à Îã¨ ÎßêÏóê Ïã†ÏûÖÏÇ¨Ïõê ÌôòÏòÅÌöåÎ•º Í∞úÏµúÌï©ÎãàÎã§. ÎßéÏùÄ Ï∞∏ÏÑù Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§.', 'hr001', 'Ïù∏ÏÇ¨ÌåÄ');

-- Ìï†Ïùº Î™©Î°ù ÏÉòÌîå Îç∞Ïù¥ÌÑ∞
INSERT INTO TODOS (TODO_ID, USER_ID, TITLE, DESCRIPTION, PRIORITY, DUE_DATE) VALUES 
(SEQ_TODO_ID.NEXTVAL, 'emp001', 'ÏõîÍ∞Ñ Î≥¥Í≥†ÏÑú ÏûëÏÑ±', 'Ïù¥Î≤à Îã¨ ÏóÖÎ¨¥ ÏÑ±Í≥º Î≥¥Í≥†ÏÑú ÏûëÏÑ±', 2, SYSDATE + 7);

INSERT INTO TODOS (TODO_ID, USER_ID, TITLE, DESCRIPTION, PRIORITY) VALUES 
(SEQ_TODO_ID.NEXTVAL, 'emp001', 'ÌöåÏùòÏã§ ÏòàÏïΩ', 'ÎÇ¥Ïùº Ïò§ÌõÑ ÌöåÏùòÎ•º ÏúÑÌïú ÌöåÏùòÏã§ ÏòàÏïΩ', 1);

-- Ï∫òÎ¶∞Îçî Ïù¥Î≤§Ìä∏ ÏÉòÌîå Îç∞Ïù¥ÌÑ∞
INSERT INTO CALENDAR_EVENTS (EVENT_ID, USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE) VALUES 
(SEQ_EVENT_ID.NEXTVAL, 'emp001', 'ÌåÄ ÌöåÏùò', 'Ï£ºÍ∞Ñ ÌåÄ ÌöåÏùò', 'MEETING', 
 TO_TIMESTAMP('2024-08-25 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),
 TO_TIMESTAMP('2024-08-25 15:00:00', 'YYYY-MM-DD HH24:MI:SS'));

-- Î©îÏãúÏßÄ ÏÉòÌîå Îç∞Ïù¥ÌÑ∞
INSERT INTO MESSAGES (MESSAGE_ID, SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT) VALUES 
(SEQ_MESSAGE_ID.NEXTVAL, 'emp002', 'ÍπÄÏßÅÏõê', 'emp001', 'Ïù¥ÏÇ¨Ïõê', 'ÏïàÎÖïÌïòÏÑ∏Ïöî! Ïò§Îäò ÌöåÏùò ÏûêÎ£å ÌôïÏù∏ Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§.');

COMMIT;

-- Ï°∞ÌöåÏö© Î∑∞ ÏÉùÏÑ±

-- 1. ÏµúÍ∑º Í≥µÏßÄÏÇ¨Ìï≠ Î∑∞
CREATE OR REPLACE VIEW V_RECENT_NOTICES AS
SELECT NOTICE_ID, TITLE, CONTENT, AUTHOR_NAME, CREATE_DATE, VIEW_COUNT
FROM NOTICES
WHERE IS_ACTIVE = 'Y'
ORDER BY CREATE_DATE DESC;

-- 2. ÏÇ¨Ïö©ÏûêÎ≥Ñ ÎØ∏ÏôÑÎ£å Ìï†Ïùº Î∑∞
CREATE OR REPLACE VIEW V_PENDING_TODOS AS
SELECT TODO_ID, USER_ID, TITLE, DESCRIPTION, PRIORITY, DUE_DATE, CREATE_DATE
FROM TODOS
WHERE IS_COMPLETED = 'N'
ORDER BY PRIORITY, DUE_DATE;

-- 3. ÏõîÎ≥Ñ Ï∂úÌá¥Í∑º ÌòÑÌô© Î∑∞
CREATE OR REPLACE VIEW V_MONTHLY_ATTENDANCE AS
SELECT 
    USER_ID,
    TO_CHAR(WORK_DATE, 'YYYY-MM') AS WORK_MONTH,
    COUNT(*) AS WORK_DAYS,
    SUM(TOTAL_WORK_MINUTES) AS TOTAL_MINUTES,
    SUM(OVERTIME_MINUTES) AS OVERTIME_MINUTES,
    SUM(CASE WHEN STATUS = 'LATE' THEN 1 ELSE 0 END) AS LATE_DAYS
FROM ATTENDANCE
WHERE CHECK_IN_TIME IS NOT NULL
GROUP BY USER_ID, TO_CHAR(WORK_DATE, 'YYYY-MM')
ORDER BY USER_ID, WORK_MONTH DESC;

-- 4. ÏùΩÏßÄ ÏïäÏùÄ Î©îÏãúÏßÄ Î∑∞
CREATE OR REPLACE VIEW V_UNREAD_MESSAGES AS
SELECT MESSAGE_ID, SENDER_NAME, RECEIVER_ID, CONTENT, SEND_DATE
FROM MESSAGES
WHERE IS_READ = 'N'
ORDER BY SEND_DATE DESC;

-- 5. Ïò§ÎäòÏùò ÏùºÏ†ï Î∑∞
CREATE OR REPLACE VIEW V_TODAY_EVENTS AS
SELECT EVENT_ID, USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION
FROM CALENDAR_EVENTS
WHERE DATE(START_DATE) = DATE(SYSDATE)
   OR (DATE(START_DATE) <= DATE(SYSDATE) AND DATE(END_DATE) >= DATE(SYSDATE))
ORDER BY START_DATE;
=======
-- groupware table
-- Í∏∞ÎåÄ Í∞ùÏ≤¥ Î™©Î°ùÏùÑ WITHÎ°ú Ï†ïÏùòÌïòÍ≥† USER_OBJECTSÏôÄ ÎπÑÍµê
WITH expected AS (
  SELECT 'TABLE'    AS kind, 'NOTICES'          AS name FROM dual UNION ALL
  SELECT 'TABLE',   'TODOS'                     FROM dual UNION ALL
  SELECT 'TABLE',   'ATTENDANCE'                FROM dual UNION ALL
  SELECT 'TABLE',   'MESSAGES'                  FROM dual UNION ALL
  SELECT 'TABLE',   'CALENDAR_EVENTS'           FROM dual UNION ALL
  SELECT 'TABLE',   'ATTACHMENTS'               FROM dual UNION ALL
  SELECT 'SEQUENCE','SEQ_NOTICE_ID'             FROM dual UNION ALL
  SELECT 'SEQUENCE','SEQ_TODO_ID'               FROM dual UNION ALL
  SELECT 'SEQUENCE','SEQ_ATTENDANCE_ID'         FROM dual UNION ALL
  SELECT 'SEQUENCE','SEQ_MESSAGE_ID'            FROM dual UNION ALL
  SELECT 'SEQUENCE','SEQ_EVENT_ID'              FROM dual UNION ALL
  SELECT 'SEQUENCE','SEQ_ATTACHMENT_ID'         FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_NOTICES_BI'            FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_TODOS_BI'              FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_ATTENDANCE_BI'         FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_MESSAGES_BI'           FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_EVENTS_BI'             FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_ATTACHMENTS_BI'        FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_NOTICES_UPDATE'        FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_ATTENDANCE_UPDATE'     FROM dual UNION ALL
  SELECT 'TRIGGER', 'TRG_EVENTS_UPDATE'         FROM dual
)

=======
>>>>>>> cddda14998e5a164e841ccb98ce4bf191064d936

-- ===== TRIGGERS (Ï°¥Ïû¨ ÏãúÎßå ÏÇ≠Ï†ú: ORA-04080 Î¨¥Ïãú) =====
BEGIN FOR t IN (
  SELECT trigger_name FROM user_triggers WHERE trigger_name IN (
    'TRG_NOTICES_BI','TRG_TODOS_BI','TRG_ATTENDANCE_BI',
    'TRG_MESSAGES_BI','TRG_EVENTS_BI','TRG_ATTACHMENTS_BI',
    'TRG_NOTICES_UPDATE','TRG_ATTENDANCE_UPDATE','TRG_EVENTS_UPDATE'
  )
) LOOP
  EXECUTE IMMEDIATE 'DROP TRIGGER '||t.trigger_name;
END LOOP; END;
/

-- ===== TABLES =====
BEGIN
  FOR x IN (SELECT table_name FROM user_tables
            WHERE table_name IN ('ATTACHMENTS','CALENDAR_EVENTS','MESSAGES','ATTENDANCE','TODOS','NOTICES')) LOOP
    EXECUTE IMMEDIATE 'DROP TABLE '||x.table_name||' CASCADE CONSTRAINTS PURGE';
  END LOOP;
END;
/

-- ===== SEQUENCES =====
BEGIN
  FOR s IN (SELECT sequence_name FROM user_sequences
            WHERE sequence_name IN ('SEQ_NOTICE_ID','SEQ_TODO_ID','SEQ_ATTENDANCE_ID',
                                    'SEQ_MESSAGE_ID','SEQ_EVENT_ID','SEQ_ATTACHMENT_ID')) LOOP
    EXECUTE IMMEDIATE 'DROP SEQUENCE '||s.sequence_name;
  END LOOP;
END;
/

CREATE SEQUENCE SEQ_NOTICE_ID      START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
CREATE SEQUENCE SEQ_TODO_ID        START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
CREATE SEQUENCE SEQ_ATTENDANCE_ID  START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
CREATE SEQUENCE SEQ_MESSAGE_ID     START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
CREATE SEQUENCE SEQ_EVENT_ID       START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
CREATE SEQUENCE SEQ_ATTACHMENT_ID  START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;

-- Í≥µÏßÄÏÇ¨Ìï≠
CREATE TABLE NOTICES (
  NOTICE_ID    NUMBER          PRIMARY KEY,
  TITLE        VARCHAR2(200)   NOT NULL,
  CONTENT      CLOB            NOT NULL,
  AUTHOR_ID    VARCHAR2(50)    NOT NULL,
  AUTHOR_NAME  VARCHAR2(100)   NOT NULL,
  CREATE_DATE  DATE            DEFAULT SYSDATE,
  UPDATE_DATE  DATE            DEFAULT SYSDATE,
  VIEW_COUNT   NUMBER          DEFAULT 0,
  IS_ACTIVE    CHAR(1)         DEFAULT 'Y' CHECK (IS_ACTIVE IN ('Y','N'))
);

-- Ìï†Ïùº
CREATE TABLE TODOS (
  TODO_ID       NUMBER          PRIMARY KEY,
  USER_ID       VARCHAR2(50)    NOT NULL,
  TITLE         VARCHAR2(200)   NOT NULL,
  DESCRIPTION   VARCHAR2(1000),
  IS_COMPLETED  CHAR(1)         DEFAULT 'N' CHECK (IS_COMPLETED IN ('Y','N')),
  PRIORITY      NUMBER          DEFAULT 3 CHECK (PRIORITY BETWEEN 1 AND 5),
  DUE_DATE      DATE,
  CREATE_DATE   DATE            DEFAULT SYSDATE,
  COMPLETE_DATE DATE
);

-- Ï∂úÌá¥Í∑º
CREATE TABLE ATTENDANCE (
  ATTENDANCE_ID      NUMBER        PRIMARY KEY,
  USER_ID            VARCHAR2(50)  NOT NULL,
  WORK_DATE          DATE          NOT NULL,
  CHECK_IN_TIME      TIMESTAMP,
  CHECK_OUT_TIME     TIMESTAMP,
  TOTAL_WORK_MINUTES NUMBER,
  BREAK_MINUTES      NUMBER        DEFAULT 0,
  OVERTIME_MINUTES   NUMBER        DEFAULT 0,
  STATUS             VARCHAR2(20)  DEFAULT 'ABSENT' CHECK (STATUS IN ('PRESENT','ABSENT','LATE','EARLY_LEAVE')),
  NOTES              VARCHAR2(500),
  CREATE_DATE        DATE          DEFAULT SYSDATE,
  UPDATE_DATE        DATE          DEFAULT SYSDATE
);

-- Î©îÏãúÏßÄ
CREATE TABLE MESSAGES (
  MESSAGE_ID    NUMBER          PRIMARY KEY,
  SENDER_ID     VARCHAR2(50)    NOT NULL,
  SENDER_NAME   VARCHAR2(100)   NOT NULL,
  RECEIVER_ID   VARCHAR2(50),
  RECEIVER_NAME VARCHAR2(100),
  MESSAGE_TYPE  VARCHAR2(20)    DEFAULT 'PERSONAL' CHECK (MESSAGE_TYPE IN ('PERSONAL','GROUP','BROADCAST')),
  CONTENT       VARCHAR2(1000)  NOT NULL,
  IS_READ       CHAR(1)         DEFAULT 'N' CHECK (IS_READ IN ('Y','N')),
  SEND_DATE     TIMESTAMP       DEFAULT CURRENT_TIMESTAMP,
  READ_DATE     TIMESTAMP
);

-- Ï∫òÎ¶∞Îçî
CREATE TABLE CALENDAR_EVENTS (
  EVENT_ID          NUMBER          PRIMARY KEY,
  USER_ID           VARCHAR2(50)    NOT NULL,
  TITLE             VARCHAR2(200)   NOT NULL,
  DESCRIPTION       VARCHAR2(1000),
  EVENT_TYPE        VARCHAR2(20)    DEFAULT 'PERSONAL' CHECK (EVENT_TYPE IN ('PERSONAL','MEETING','HOLIDAY','COMPANY')),
  START_DATE        TIMESTAMP       NOT NULL,
  END_DATE          TIMESTAMP       NOT NULL,
  IS_ALL_DAY        CHAR(1)         DEFAULT 'N' CHECK (IS_ALL_DAY IN ('Y','N')),
  LOCATION          VARCHAR2(200),
  REMINDER_MINUTES  NUMBER          DEFAULT 0,
  IS_RECURRING      CHAR(1)         DEFAULT 'N' CHECK (IS_RECURRING IN ('Y','N')),
  RECURRENCE_PATTERN VARCHAR2(100),
  CREATE_DATE       DATE            DEFAULT SYSDATE,
  UPDATE_DATE       DATE            DEFAULT SYSDATE
);

-- Ï≤®Î∂ÄÌååÏùº
CREATE TABLE ATTACHMENTS (
  ATTACHMENT_ID NUMBER          PRIMARY KEY,
  RELATED_TYPE  VARCHAR2(20)    NOT NULL CHECK (RELATED_TYPE IN ('NOTICE','MESSAGE','EVENT')),
  RELATED_ID    NUMBER          NOT NULL,
  ORIGINAL_NAME VARCHAR2(255)   NOT NULL,
  STORED_NAME   VARCHAR2(255)   NOT NULL,
  FILE_PATH     VARCHAR2(500)   NOT NULL,
  FILE_SIZE     NUMBER          NOT NULL,
  CONTENT_TYPE  VARCHAR2(100),
  UPLOAD_DATE   DATE            DEFAULT SYSDATE,
  UPLOADER_ID   VARCHAR2(50)    NOT NULL
);

-- ÏûêÎèô Ï±ÑÎ≤à
CREATE OR REPLACE TRIGGER TRG_NOTICES_BI
BEFORE INSERT ON NOTICES FOR EACH ROW
BEGIN IF :NEW.NOTICE_ID IS NULL THEN :NEW.NOTICE_ID := SEQ_NOTICE_ID.NEXTVAL; END IF; END;


CREATE OR REPLACE TRIGGER TRG_TODOS_BI
BEFORE INSERT ON TODOS FOR EACH ROW
BEGIN IF :NEW.TODO_ID IS NULL THEN :NEW.TODO_ID := SEQ_TODO_ID.NEXTVAL; END IF; END;


CREATE OR REPLACE TRIGGER TRG_ATTENDANCE_BI
BEFORE INSERT ON ATTENDANCE FOR EACH ROW
BEGIN IF :NEW.ATTENDANCE_ID IS NULL THEN :NEW.ATTENDANCE_ID := SEQ_ATTENDANCE_ID.NEXTVAL; END IF; END;


CREATE OR REPLACE TRIGGER TRG_MESSAGES_BI
BEFORE INSERT ON MESSAGES FOR EACH ROW
BEGIN IF :NEW.MESSAGE_ID IS NULL THEN :NEW.MESSAGE_ID := SEQ_MESSAGE_ID.NEXTVAL; END IF; END;


CREATE OR REPLACE TRIGGER TRG_EVENTS_BI
BEFORE INSERT ON CALENDAR_EVENTS FOR EACH ROW
BEGIN IF :NEW.EVENT_ID IS NULL THEN :NEW.EVENT_ID := SEQ_EVENT_ID.NEXTVAL; END IF; END;


CREATE OR REPLACE TRIGGER TRG_ATTACHMENTS_BI
BEFORE INSERT ON ATTACHMENTS FOR EACH ROW
BEGIN IF :NEW.ATTACHMENT_ID IS NULL THEN :NEW.ATTACHMENT_ID := SEQ_ATTACHMENT_ID.NEXTVAL; END IF; END;


-- UPDATE_DATE ÏûêÎèô Í∞±Ïã† (Ïï±Îã®ÏóêÏÑú Í∞±Ïã† Ïïà Ìï† Îïå Ïú†Ïö©)
CREATE OR REPLACE TRIGGER TRG_NOTICES_UPDATE
BEFORE UPDATE ON NOTICES FOR EACH ROW
BEGIN :NEW.UPDATE_DATE := SYSDATE; END;


CREATE OR REPLACE TRIGGER TRG_ATTENDANCE_UPDATE
BEFORE UPDATE ON ATTENDANCE FOR EACH ROW
BEGIN :NEW.UPDATE_DATE := SYSDATE; END;


CREATE OR REPLACE TRIGGER TRG_EVENTS_UPDATE
BEFORE UPDATE ON CALENDAR_EVENTS FOR EACH ROW
BEGIN :NEW.UPDATE_DATE := SYSDATE; END;


<<<<<<< HEAD



INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÏÇ¨ÎÇ¥ ÌîºÏûêÎç∞Ïù¥ ÏïàÎÇ¥', 'Ïù¥Î≤à Í∏àÏöîÏùºÏùÄ ÌîºÏûê Î¨¥Ï†úÌïú Îç∞Ïù¥! Ï†êÏã¨Ïóê ÌöåÏùòÏã§ BÏóêÏÑú ÎßåÎÇòÏöî üçï', 'admin', 'Í¥ÄÎ¶¨Ïûê');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('Í∞úÎ∞úÌåÄ Ìï¥Ïª§ÌÜ§ Í∞úÏµú', '48ÏãúÍ∞Ñ ÏΩîÎî© Ìï¥Ïª§ÌÜ§! Ïû†ÏùÄ ÏÑ†ÌÉù, Ïª§ÌîºÎäî ÌïÑÏàò ‚òï', 'dev001', 'Í∞úÎ∞úÌåÄÏû•');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÏÇ¨ÎÇ¥ Î∞¥Îìú Í≥µÏó∞', 'ÎèôÌò∏Ìöå Î∞¥ÎìúÍ∞Ä ÏÇ¨Ïö¥ÎìúÌôÄÏóêÏÑú ÎùΩ Í≥µÏó∞ÏùÑ Ìï©ÎãàÎã§. Í∑ÄÎßàÍ∞úÎäî ÏÑ†ÌÉùÏÇ¨Ìï≠ ü§ò', 'hr001', 'Ïù∏ÏÇ¨ÌåÄ');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÌöåÏùòÏã§ Ïù¥Î¶Ñ Î≥ÄÍ≤Ω', 'ÌöåÏùòÏã§ Ïù¥Î¶ÑÏù¥ Ïù¥Ï†ú Ïä§ÌÉÄÏõåÏ¶à Ï∫êÎ¶≠ÌÑ∞Î°ú Î∞îÎÄùÎãàÎã§. Îã§Ïä§Î≤†Ïù¥Îçî ‚Üí ÏöîÎã§', 'op001', 'Ï¥ùÎ¨¥ÌåÄ');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÏÇ¨ÎÇ¥ ÏòÅÌôî ÏÉÅÏòÅÌöå', 'Ïù¥Î≤à Ï£º ÌÜ†ÏöîÏùº, ÎåÄÌöåÏùòÏã§ÏóêÏÑú ‚ÄúÏù∏ÏÖâÏÖò‚Äù ÏÉÅÏòÅÌï©ÎãàÎã§. ÌåùÏΩò Ï†úÍ≥µ üçø', 'hr002', 'Î¨∏ÌôîÏúÑÏõê');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('AI Î™®Îç∏ Îü∞Ïπ≠ ÌååÌã∞', 'Ïö∞Î¶¨Í∞Ä ÎßåÎì† Ï±óÎ¥áÏùÑ ÏÑ∏ÏÉÅÏóê Í≥µÍ∞úÌï©ÎãàÎã§! ÌíçÏÑ†Í≥º ÏºÄÏù¥ÌÅ¨ Ï§ÄÎπÑÎê® üéÇ', 'dev002', 'AIÌåÄ');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÎèôÌò∏Ìöå Í∞ÄÏûÖ ÏïàÎÇ¥', 'Î≥¥ÎìúÍ≤åÏûÑ, ÌÅ¥ÎùºÏù¥Î∞ç, ÏûêÏ†ÑÍ±∞ ÎèôÌò∏Ìöå ÌöåÏõê Î™®Ïßë Ï§ë üö¥', 'hr003', 'Î≥µÏßÄÌåÄ');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÏÇ¨ÎÇ¥ Ïò§ÎùΩÏã§ Ïò§Ìîà', 'ÏßÄÌïò 1Ï∏µ ÌÉÅÍµ¨ÎåÄ, Îã§Ìä∏, Ïò§ÎùΩÍ∏∞ ÏÑ§Ïπò ÏôÑÎ£å! Ìá¥Í∑º ÌõÑ Ï¶êÍ≤®Î≥¥ÏÑ∏Ïöî üéÆ', 'op002', 'Ï¥ùÎ¨¥ÌåÄ');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('Ìó¨Ïä§Ïû• Ïù¥Ïö©ÏïàÎÇ¥', 'ÌöåÏÇ¨ 2Ï∏µ Ìó¨Ïä§Ïû•Ïù¥ Ïù¥Î≤à Îã¨Î∂ÄÌÑ∞ Î¨¥Î£å Í∞úÎ∞©Îê©ÎãàÎã§. Ìó¨Ïä§Ïû•ÏùÑ ÏßÄÎ∞∞ÌïòÎùº üí™', 'hr004', 'Ïù∏ÏÇ¨ÌåÄ');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÏÇ¨ÎÇ¥ Í≥†ÏñëÏù¥ Ï£ºÏùò', 'Ï∫†ÌçºÏä§ ÎÇ¥ Í∏∏Í≥†ÏñëÏù¥Í∞Ä ÏûêÏ£º Ï∂úÎ™∞Ìï©ÎãàÎã§. Í∞ÑÏãù Ï£ºÏßÄ ÎßàÏÑ∏Ïöî üê±', 'op003', 'ÏãúÏÑ§ÌåÄ');




INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp001','Ïª§ÌîºÎ®∏Ïã† Ï≤≠ÏÜå','ÏÇ¨Î¨¥Ïã§ Ïª§ÌîºÎ®∏Ïã†Ïù¥ ÏöîÏ¶ò ÎßõÏù¥ Ïù¥ÏÉÅÌï®. Ï≤≠ÏÜå ÌïÑÏöî','2');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp002','ÌöåÏùòÎ°ù Ï†ïÎ¶¨','Ïñ¥Ï†ú ÌöåÏùòÏóêÏÑú Îã§Îì§ Î≠êÎùºÍ≥† ÌñàÎäîÏßÄ Í∏∞Î°ù ÌïÑÏöî','3');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp003','Î≤ÑÍ∑∏ Ïû°Í∏∞','Î°úÍ∑∏Ïù∏ Ïãú Î≤ÑÌäºÏù¥ Í∞ÄÎÅî ÏÇ¨ÎùºÏßÄÎäî ÌòÑÏÉÅ ÏàòÏ†ï','1');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp004','Ïã†ÏûÖ ÍµêÏú°ÏûêÎ£å Ï§ÄÎπÑ','Ïã†ÏûÖÏÇ¨Ïõê Ïò®Î≥¥Îî©Ïö© PPT Ï†úÏûë','2');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp005','Í∞ÑÏãù Ï£ºÎ¨∏','Îã§Ïùå Ï£º Ïä§ÎÇµÎ∞ïÏä§ Ï£ºÎ¨∏ (Ïò§Î†àÏò§, ÌîÑÎßÅÍ∏ÄÏä§, Ï†§Î¶¨)','4');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp006','ÏÇ¨ÎÇ¥ Wi-Fi Ïù¥Î¶Ñ Î≥ÄÍ≤Ω','ÏÉàÎ°úÏö¥ ÏôÄÏù¥ÌååÏù¥ SSID: CatLover5G','5');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp007','ÏΩîÎìú Î¶¨Î∑∞','ÌåÄÏõê Pull Request 3Í∞ú Î¶¨Î∑∞ÌïòÍ∏∞','2');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp008','Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Î∞±ÏóÖ','Í∏àÏöîÏùº Ïò§ÌõÑÏóê Ï†ÑÏ≤¥ Î∞±ÏóÖ Ïã§Ìñâ','1');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp009','ÏÇ¨ÎÇ¥ Ìè¨Ïä§ÌÑ∞ ÎîîÏûêÏù∏','Îã§ÏùåÎã¨ Ïù¥Î≤§Ìä∏ ÌôçÎ≥¥ Ìè¨Ïä§ÌÑ∞ ÎßåÎì§Í∏∞','3');

INSERT INTO TODOS (USER_ID, TITLE, DESCRIPTION, PRIORITY)
VALUES ('emp010','ÌåÄ Ï†êÏã¨ ÏòàÏïΩ','Í∏àÏöîÏùº ÌöåÏãù Ïû•ÏÜå ÏòàÏïΩ (ÏÇºÍ≤πÏÇ¥)','2');




INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp001', SYSDATE-9, TO_TIMESTAMP('09:02','HH24:MI'), TO_TIMESTAMP('18:01','HH24:MI'),'LATE');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp002', SYSDATE-8, TO_TIMESTAMP('08:55','HH24:MI'), TO_TIMESTAMP('18:05','HH24:MI'),'PRESENT');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp003', SYSDATE-7, TO_TIMESTAMP('09:30','HH24:MI'), TO_TIMESTAMP('17:50','HH24:MI'),'EARLY_LEAVE');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp004', SYSDATE-6, TO_TIMESTAMP('09:00','HH24:MI'), TO_TIMESTAMP('18:10','HH24:MI'),'PRESENT');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp005', SYSDATE-5, TO_TIMESTAMP('09:15','HH24:MI'), TO_TIMESTAMP('18:00','HH24:MI'),'LATE');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp006', SYSDATE-4, TO_TIMESTAMP('09:01','HH24:MI'), TO_TIMESTAMP('18:02','HH24:MI'),'PRESENT');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp007', SYSDATE-3, TO_TIMESTAMP('10:00','HH24:MI'), TO_TIMESTAMP('18:30','HH24:MI'),'LATE');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp008', SYSDATE-2, TO_TIMESTAMP('09:05','HH24:MI'), TO_TIMESTAMP('17:40','HH24:MI'),'EARLY_LEAVE');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp009', SYSDATE-1, TO_TIMESTAMP('08:59','HH24:MI'), TO_TIMESTAMP('18:20','HH24:MI'),'PRESENT');

INSERT INTO ATTENDANCE (USER_ID, WORK_DATE, CHECK_IN_TIME, CHECK_OUT_TIME, STATUS)
VALUES ('emp010', SYSDATE, TO_TIMESTAMP('09:45','HH24:MI'), TO_TIMESTAMP('17:30','HH24:MI'),'LATE');



INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp001','Ï≤†Ïàò','emp002','ÏòÅÌù¨','Ïò§Îäò Ï†êÏã¨ Î≠ê Î®πÏùÑÎûò? üçú');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp002','ÏòÅÌù¨','emp001','Ï≤†Ïàò','Ïß¨ÎΩï Ïñ¥Îïå?');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp003','ÎØºÏàò','emp004','ÏßÄÏùÄ','ÌöåÏùò ÏûêÎ£å Í≥µÏú†ÌñàÏñ¥ ÌôïÏù∏ Î∂ÄÌÉÅ~');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp004','ÏßÄÏùÄ','emp003','ÎØºÏàò','„Öá„Öã ÌôïÏù∏ÌñàÏñ¥!');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp005','ÌÉúÌò∏','emp006','ÌòÑÏßÄ','ÏïºÍµ¨ ÏòàÎß§ÌñàÏñ¥ ‚öæ');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp006','ÌòÑÏßÄ','emp005','ÌÉúÌò∏','Íµø! ÏπòÎß• Ï§ÄÎπÑÌïòÏûê üç∫');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp007','Ï†ïÏö∞','emp008','Îã§ÏùÄ','ÏÇ¨ÏßÑ Î≥¥ÎÉàÏñ¥ üì∏');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp008','Îã§ÏùÄ','emp007','Ï†ïÏö∞','Ìóâ Ïûò Ï∞çÏóàÎÑ§ üëç');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp009','ÌïòÎäò','emp010','Ïú†ÏßÑ','Ïò§Îäò Ìá¥Í∑º ÌõÑ ÌÉÅÍµ¨ „Ñ±? üèì');

INSERT INTO MESSAGES (SENDER_ID, SENDER_NAME, RECEIVER_ID, RECEIVER_NAME, CONTENT)
VALUES ('emp010','Ïú†ÏßÑ','emp009','ÌïòÎäò','ÏΩú~ ÌÉÅÍµ¨Ï±Ñ Ï±ôÍ≤®Ïò¥');




INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp001','Ï£ºÍ∞Ñ ÌöåÏùò','Ïù¥Î≤àÏ£º ÏßÑÌñâÏÇ¨Ìï≠ Í≥µÏú†','MEETING', SYSDATE+1, SYSDATE+1+1/24,'ÌöåÏùòÏã§ A');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp002','Ìó¨Ïä§Ïû• Î™®ÏûÑ','Ìó¨Ïä§Ïû•ÏóêÏÑú Ìï®Íªò Ïö¥Îèô','PERSONAL', SYSDATE+2, SYSDATE+2+2/24,'Ìó¨Ïä§Ïû•');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp003','ÌåÄ Ï†êÏã¨ ÌöåÏãù','Ïã†ÏûÖ ÌôòÏòÅ Ï†êÏã¨ÏãùÏÇ¨','COMPANY', SYSDATE+3, SYSDATE+3+2/24,'ÏãùÎãπ');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp004','Î≥¥ÎìúÍ≤åÏûÑ Î™®ÏûÑ','Ìá¥Í∑º ÌõÑ Î≥¥ÎìúÍ≤åÏûÑ ÌååÌã∞','PERSONAL', SYSDATE+4, SYSDATE+4+3/24,'ÎùºÏö¥ÏßÄ');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp005','Ïä§ÌÑ∞Îîî','ÏûêÎ∞î Ïä§ÌÑ∞Îîî ÏßÑÌñâ','MEETING', SYSDATE+5, SYSDATE+5+2/24,'ÌöåÏùòÏã§ B');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp006','ÏòÅÌôîÍ¥ÄÎûå','ÌåÄÏõêÎì§Í≥º ÏòÅÌôî Î≥¥Í∏∞','COMPANY', SYSDATE+6, SYSDATE+6+3/24,'ÎåÄÌöåÏùòÏã§');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp007','ÏïºÏú†Ìöå','Î¥ÑÎßûÏù¥ ÌöåÏÇ¨ ÏïºÏú†Ìöå','COMPANY', SYSDATE+7, SYSDATE+7+6/24,'ÌïúÍ∞ïÍ≥µÏõê');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp008','ÏÉùÏùºÌååÌã∞','ÌåÄÏõê ÏÉùÏùº Ï∂ïÌïò üéÇ','PERSONAL', SYSDATE+8, SYSDATE+8+4/24,'Ìú¥Í≤åÏã§');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp009','Í∏∞Ïà†ÏÑ∏ÎØ∏ÎÇò','Ïô∏Î∂Ä Ï¥àÏ≤≠ Í∞ïÏó∞','COMPANY', SYSDATE+9, SYSDATE+9+2/24,'ÏÑ∏ÎØ∏ÎÇòÎ£∏');

INSERT INTO CALENDAR_EVENTS (USER_ID, TITLE, DESCRIPTION, EVENT_TYPE, START_DATE, END_DATE, LOCATION)
VALUES ('emp010','Í≥µÌú¥Ïùº','Í¥ëÎ≥µÏ†à Ìú¥Ïùº','HOLIDAY', SYSDATE+10, SYSDATE+10+24/24,'');




INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('NOTICE',1,'pizza.jpg','f_pizza.jpg','/upload',1024,'image/jpeg','emp001');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('NOTICE',2,'hackathon.pdf','f_hackathon.pdf','/upload',2048,'application/pdf','emp002');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('MESSAGE',3,'meeting.png','f_meeting.png','/upload',512,'image/png','emp003');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('MESSAGE',4,'band.mp3','f_band.mp3','/upload',4096,'audio/mpeg','emp004');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('EVENT',5,'poster.png','f_poster.png','/upload',800,'image/png','emp005');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('EVENT',6,'seminar.pdf','f_seminar.pdf','/upload',1500,'application/pdf','emp006');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('NOTICE',7,'game.zip','f_game.zip','/upload',9000,'application/zip','emp007');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('MESSAGE',8,'cat.jpg','f_cat.jpg','/upload',300,'image/jpeg','emp008');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('EVENT',9,'study.pptx','f_study.pptx','/upload',1200,'application/vnd.ms-powerpoint','emp009');

INSERT INTO ATTACHMENTS (RELATED_TYPE, RELATED_ID, ORIGINAL_NAME, STORED_NAME, FILE_PATH, FILE_SIZE, CONTENT_TYPE, UPLOADER_ID)
VALUES ('EVENT',10,'picnic.docx','f_picnic.docx','/upload',2000,'application/vnd.openxmlformats-officedocument.wordprocessingml.document','emp010');


>>>>>>> cb00c5fcb904cfc4347a707877c00f9821a0116c
=======
-- Í≥µÏßÄ: Í∏ÄÏì¥Ïù¥
ALTER TABLE NOTICES
  ADD CONSTRAINT FK_NOTICES_AUTHOR
  FOREIGN KEY (AUTHOR_ID)
  REFERENCES EMPLOYEES(EMP_ID);

-- Ìï† Ïùº: Ï£ºÏù∏
ALTER TABLE TODOS
  ADD CONSTRAINT FK_TODOS_USER
  FOREIGN KEY (USER_ID)
  REFERENCES EMPLOYEES(EMP_ID);

-- Ï∂úÌá¥Í∑º: Ï£ºÏ≤¥
ALTER TABLE ATTENDANCE
  ADD CONSTRAINT FK_ATTENDANCE_USER
  FOREIGN KEY (USER_ID)
  REFERENCES EMPLOYEES(EMP_ID);

-- Î©îÏãúÏßÄ: Î≥¥ÎÇ∏ ÏÇ¨Îûå
ALTER TABLE MESSAGES
  ADD CONSTRAINT FK_MESSAGES_SENDER
  FOREIGN KEY (SENDER_ID)
  REFERENCES EMPLOYEES(EMP_ID);

-- Î©îÏãúÏßÄ: Î∞õÎäî ÏÇ¨Îûå (NULL ÌóàÏö©)
ALTER TABLE MESSAGES
  ADD CONSTRAINT FK_MESSAGES_RECEIVER
  FOREIGN KEY (RECEIVER_ID)
  REFERENCES EMPLOYEES(EMP_ID);

-- Ï∫òÎ¶∞Îçî: ÏÜåÏú†Ïûê
ALTER TABLE CALENDAR_EVENTS
  ADD CONSTRAINT FK_EVENTS_USER
  FOREIGN KEY (USER_ID)
  REFERENCES EMPLOYEES(EMP_ID);

-- Ï≤®Î∂Ä: ÏóÖÎ°úÎçî
ALTER TABLE ATTACHMENTS
  ADD CONSTRAINT FK_ATTACHMENTS_UPLOADER
  FOREIGN KEY (UPLOADER_ID)
  REFERENCES EMPLOYEES(EMP_ID);

-- Í≥µÏßÄ
INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÏãúÏä§ÌÖú Ï†êÍ≤Ä ÏïàÎÇ¥', 'Ïò§Îäò 22:00~23:00 Ï†êÍ≤Ä ÏòàÏ†ïÏûÖÎãàÎã§.', 'admin', 'Í¥ÄÎ¶¨Ïûê');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('Ïã†Í∑ú ÏûÖÏÇ¨Ïûê ÌôòÏòÅ', 'Îã§ÎßàÍ≥†ÏπòÎãòÏù¥ Ïù∏ÏÇ¨ÌåÄÏúºÎ°ú Ìï©Î•òÌñàÏäµÎãàÎã§.', 'admin10', 'Í≥†Íµ∞');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('Í∞úÎ∞ú ÌôòÍ≤Ω ÏóÖÎç∞Ïù¥Ìä∏', 'JDKÏôÄ ÎùºÏù¥Î∏åÎü¨Î¶¨ Î≤ÑÏ†ÑÏù¥ Í∞±Ïã†ÎêòÏóàÏäµÎãàÎã§.', 'user02', 'Ïù¥ÏàúÏã†');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('Î≥¥Ïïà ÏàòÏπô Ïû¨ÏïàÎÇ¥', 'ÎπÑÎ∞ÄÎ≤àÌò∏Îäî Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú Î≥ÄÍ≤ΩÌï¥Ï£ºÏÑ∏Ïöî.', 'ddd', 'ddd');

INSERT INTO NOTICES (TITLE, CONTENT, AUTHOR_ID, AUTHOR_NAME)
VALUES ('ÏÇ¨ÎÇ¥ Î≥µÏßÄ ÏïàÎÇ¥', 'Ï†êÏã¨ ÏãùÎåÄ ÏßÄÏõê Ï†ïÏ±ÖÏù¥ Í∞úÌé∏ÎêòÏóàÏäµÎãàÎã§.', 'rs10000', 'ÎßàÏù¥ÌÅ¥');

COMMIT;



>>>>>>> cddda14998e5a164e841ccb98ce4bf191064d936
